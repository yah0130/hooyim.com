(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{388:function(t,e,n){},389:function(t,e,n){},390:function(t,e,n){},391:function(t,e,n){"use strict";var r=n(388);n.n(r).a},392:function(t,e,n){"use strict";var r=n(389);n.n(r).a},393:function(t,e,n){"use strict";var r=n(390);n.n(r).a},394:function(t,e,n){"use strict";n(12),n(31),n(17),n(16),n(6),n(20),n(21),n(24);var r=n(7),c=n(25),o=n(8),l=n(162),d=n(65),m=n(2);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=Object(d.a)(m.b.StorageField.UserLikeHistory),_={name:"ArticleListItem",props:{article:Object},data:function(){return{isLiked:!1}},computed:f(f({},Object(c.b)("global",["constants","language","isMobile"])),{},{isEnLang:function(){return this.$store.getters["global/isEnLang"]},originText:function(){return this.article.origin?this.article.origin===this.constants.OriginState.Reprint?this.$i18n.text.origin.reprint:this.article.origin===this.constants.OriginState.Hybrid?this.$i18n.text.origin.hybrid:"-":this.$i18n.text.origin.original}}),methods:{getThumb:function(t){return Object(l.a)(t,this.$store.getters["global/isWebPImage"])}},mounted:function(){var t;this.isLiked=null===(t=h.get())||void 0===t?void 0:t.pages.includes(this.article.id)}},y=(n(391),n(3)),C=Object(y.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-list-item",class:{mobile:t.isMobile}},[n("div",{staticClass:"item-content"},[t.isMobile?t._e():n("div",{staticClass:"item-thumb"},[n("nuxt-link",{attrs:{to:"/article/"+t.article.id}},[n("span",{staticClass:"item-oirigin",class:{self:!t.article.origin,other:t.article.origin===t.constants.OriginState.Reprint,hybrid:t.article.origin===t.constants.OriginState.Hybrid}},[t._v(t._s(t.originText))]),t._v(" "),n("img",{staticClass:"item-thumb-img",attrs:{src:t.getThumb(t.article.thumb),alt:t.article.title,title:t.article.title}})])],1),t._v(" "),n("div",{staticClass:"item-body"},[n("h5",{staticClass:"item-title"},[n("nuxt-link",{attrs:{to:"/article/"+t.article.id,title:t.article.title},domProps:{textContent:t._s(t.article.title)}})],1),t._v(" "),n("p",{staticClass:"item-description",staticStyle:{"-webkit-box-orient":"vertical"},domProps:{innerHTML:t._s(t.article.description)}}),t._v(" "),n("div",{staticClass:"item-meta"},[n("span",{staticClass:"date"},[n("i",{staticClass:"iconfont icon-clock"}),t._v(" "),n("span",[t._v(t._s(t._f("toYMD")(t.article.create_at,t.language)))])]),t._v(" "),n("span",{staticClass:"views"},[n("i",{staticClass:"iconfont icon-eye"}),t._v(" "),n("span",[t._v(t._s(t.article.meta.views||0))])]),t._v(" "),n("span",{staticClass:"comments"},[n("i",{staticClass:"iconfont icon-comment"}),t._v(" "),n("span",[t._v(t._s(t.article.meta.comments||0))])]),t._v(" "),n("span",{staticClass:"likes"},[n("i",{staticClass:"iconfont icon-like",class:{liked:t.isLiked}}),t._v(" "),n("span",[t._v(t._s(t.article.meta.likes||0))])]),t._v(" "),t.isMobile?t._e():n("span",{staticClass:"categories"},[n("i",{staticClass:"iconfont icon-list"}),t._v(" "),t.article.category.length?t._l(t.article.category,(function(e,r){return n("nuxt-link",{key:r,attrs:{to:"/category/"+e.slug},domProps:{textContent:t._s(t.isEnLang?e.slug:e.name)}})})):n("span",{domProps:{textContent:t._s(t.$i18n.text.category.empty)}})],2),t._v(" "),t._e()])])])])}),[],!1,null,"4bc4c77b",null).exports,x=(n(64),{name:"ArticleListHeader",computed:{isEnLang:function(){return this.$store.getters["global/isEnLang"]},isDarkTheme:function(){return this.$store.getters["global/isDarkTheme"]},currentTag:function(){var t=this;return this.$store.state.tag.data.find((function(e){return e.slug===t.$route.params.tag_slug}))},currentTagIconClass:function(){return this.getExtendsValue(this.currentTag,"icon")||"icon-tag"},currentCategory:function(){var t=this;return this.$store.state.category.data.find((function(e){return e.slug===t.$route.params.category_slug}))},currentCategoryIconClass:function(){return this.getExtendsValue(this.currentCategory,"icon")||"icon-category"},currentBackgroundImage:function(){var t=this.getExtendsValue(this.currentTag,"background"),e=this.getExtendsValue(this.currentCategory,"background");return t||e||Object(o.b)("/images/service.jpg")},currentBackgroundColor:function(){var t=this.getExtendsValue(this.currentTag,"bgcolor"),e=this.getExtendsValue(this.currentCategory,"bgcolor");return t||e||null},currentDate:function(){return this.$route.params.date},currentKeyword:function(){return this.$route.params.keyword},isMobile:function(){return this.$store.state.global.isMobile}},methods:{getExtendsValue:function(t,e){if(!t||!t.extends.length)return null;var n=t.extends.find((function(t){return t.name===e}));return n?n.value:null}}}),header=(n(392),Object(y.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-box",class:{mobile:t.isMobile,dark:t.isDarkTheme},style:{"background-color":t.currentBackgroundColor,"background-image":"url("+t.currentBackgroundImage+")"}},[n("div",{staticClass:"logo-box"},[n("p",{staticClass:"logo"},[n("transition",{attrs:{name:"module",mode:"out-in"}},[t.currentDate?n("i",{key:"date",staticClass:"iconfont icon-clock"}):t.currentTag?n("i",{key:"tag",staticClass:"iconfont",class:t.currentTagIconClass}):t.currentCategory?n("i",{key:"category",staticClass:"iconfont",class:t.currentCategoryIconClass}):t.currentKeyword?n("i",{key:"search",staticClass:"iconfont icon-search"}):t._e()])],1)]),t._v(" "),n("div",{staticClass:"title-box"},[n("transition",{attrs:{name:"module",mode:"out-in"}},[t.currentCategory?n("h5",{key:"category-"+t.currentCategory.description,staticClass:"title"},[n("span",[t._v(t._s(t.currentCategory.description||"..."))])]):t.currentTag?n("h5",{key:"tag-"+t.currentTag.name,staticClass:"title"},[n("span",[t._v(t._s(t.currentTag.name))]),t._v(" "),n("span",[t._v(" - ")]),t._v(" "),n("span",[t._v(t._s(t.currentTag.description||"..."))])]):t.currentDate?n("h5",{key:"date-"+t.currentDate,staticClass:"title"},[t.isEnLang?n("span",[n("span",[t._v(t._s(t.currentDate)+" ")]),t._v(" "),n("span",[t._v("articles")])]):n("span",[n("span",[t._v("发布于")]),t._v(" "),n("span",[t._v(" "+t._s(t.currentDate)+" ")]),t._v(" "),n("span",[t._v("的所有文章")])])]):t.currentKeyword?n("h5",{key:"search-"+t.currentKeyword,staticClass:"title"},[t.isEnLang?n("span",[n("span",[t._v('"'+t._s(t.currentKeyword)+'"')]),t._v(" "),n("span",[t._v("related articles")])]):n("span",[n("span",[t._v("和")]),t._v(" "),n("span",[t._v(' "')]),t._v(" "),n("span",[t._v(t._s(t.currentKeyword))]),t._v(" "),n("span",[t._v('" ')]),t._v(" "),n("span",[t._v("有关的所有文章")])])]):t._e()])],1)])}),[],!1,null,"a13aa12e",null).exports),O=n(32),w=n(163),k={name:"ArticleList",components:{ListItem:C,ListHeader:header},props:{article:{type:Object}},computed:{isMobile:function(){return this.$store.state.global.isMobile},isCanLoadMore:function(){var t=this.article.data.pagination,e=t.current_page,n=t.total_page;return!!this.article.data.pagination&&e<n},isIndexRoute:function(){return Object(O.c)(this.$route.name)},btnColorBlockLeft:function(){return this.isMobile?60:75}},methods:{toDetail:function(article){this.isMobile&&this.$router.push(Object(w.a)(article.id))}}},j=(n(393),Object(y.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"articles",class:{mobile:t.isMobile}},[t.isIndexRoute?t._e():n("div",{staticClass:"article-list-header"},[n("list-header")],1),t._v(" "),n("div",{staticClass:"article-list"},[n("transition",{attrs:{name:"module",mode:"out-in"}},[t.article.data.data&&t.article.data.data.length?n("transition-group",{key:"list",attrs:{name:"fade",tag:"div"}},t._l(t.article.data.data,(function(e){return n("list-item",{key:e.id,attrs:{article:e},nativeOn:{click:function(n){return t.toDetail(e)}}})})),1):n("empty-box",{key:"empty",staticClass:"article-empty-box"},[t._t("default",[t._v(t._s(t.$i18n.text.article.empty))])],2)],1)],1),t._v(" "),n("div",{staticClass:"article-load"},[n("button",{staticClass:"loadmore-button",attrs:{disabled:t.article.fetching||!t.isCanLoadMore},on:{click:function(e){return t.$emit("loadmore")}}},[t._m(0),t._v(" "),n("div",{staticClass:"text"},[!t.article.fetching&&t.isCanLoadMore?n("span",[t._v(t._s(t.$i18n.text.article.loadmore))]):t.article.fetching&&t.isCanLoadMore?n("span",[t._v(t._s(t.$i18n.text.article.loading))]):t.isCanLoadMore?t._e():n("span",[t._v(t._s(t.$i18n.text.article.nomore))])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-peachblossom"})])}],!1,null,"48e1ee0a",null));e.a=j.exports},404:function(t,e,n){},405:function(t,e,n){},406:function(t,e,n){},416:function(t,e,n){"use strict";var r=n(404);n.n(r).a},417:function(t,e,n){"use strict";var r=n(405);n.n(r).a},418:function(t,e,n){"use strict";var r=n(406);n.n(r).a},419:function(t,e,n){"use strict";n.r(e);n(16),n(6),n(45);var r=n(394),c=(n(31),n(17),n(20),n(7));function o(source,t){if(null==source)return{};var e,i,n=function(source,t){if(null==source)return{};var e,i,n={},r=Object.keys(source);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||(n[e]=source[e]);return n}(source,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(source);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(source,e)&&(n[e]=source[e])}return n}var l=n(93),d=n(1),m=n(162),v=n(88);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h=d.default.extend({name:"IndexCarrousel",props:{article:{type:Object}},data:function(){return{swiperOption:{autoplay:{delay:3500,disableOnInteraction:!1},pagination:{clickable:!0,el:".swiper-pagination"},setWrapperSize:!0,mousewheel:!0,observeParents:!0,grabCursor:!1,simulateTouch:!1,preloadImages:!1,lazy:!0}}},computed:{isMobile:function(){return this.$store.state.global.isMobile},articleList:function(){var t=Object(l.a)(this.article.data.data).slice(0,9);if(!v.a.carrousel)return t;var e=v.a.carrousel,n=e.index,r=o(e,["index"]);return t.length&&t.splice(n,0,function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({ad:!0},r)),t}},methods:{getThumb:function(t){return Object(m.b)(t,this.isMobile,this.$store.getters["global/isWebPImage"])}}}),_=(n(416),n(417),n(3)),y=Object(_.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"carrousel",class:{mobile:t.isMobile}},[n("transition",{attrs:{name:"module",mode:"out-in"}},[t.articleList.length?n("div",{directives:[{name:"swiper",rawName:"v-swiper",value:t.swiperOption,expression:"swiperOption"}],key:"swiper",staticClass:"swiper index"},[n("div",{staticClass:"swiper-wrapper"},t._l(t.articleList.slice(0,9),(function(e,r){return n("div",{key:r,staticClass:"swiper-slide"},[n("div",{staticClass:"content"},[e.ad?[n("a",{staticClass:"link",attrs:{href:e.url,target:"_blank",rel:"external nofollow noopener"}},[n("img",{attrs:{src:e.src,alt:e.title}}),t._v(" "),n("span",{staticClass:"title"},[t._v(t._s(e.title))])])]:[n("nuxt-link",{staticClass:"link",attrs:{to:"/article/"+e.id}},[n("img",{attrs:{src:t.getThumb(e.thumb),alt:e.title}}),t._v(" "),n("span",{staticClass:"title"},[t._v(t._s(e.title))])])]],2)])})),0),t._v(" "),n("div",{staticClass:"swiper-pagination swiper-pagination-clickable swiper-pagination-bullets"})]):n("empty-box",{key:"empty",staticClass:"article-empty-box"},[t._t("default",[t._v(t._s(t.$i18n.text.article.empty))])],2)],1)],1)}),[],!1,null,"3d37d856",null).exports,C=n(51),x=d.default.extend({name:"IndexAnnouncement",props:{announcement:{type:Object}},data:function(){return{activeIndex:0,swiperOption:{height:34,autoplay:{delay:3500,disableOnInteraction:!1},allowTouchMove:!1,slidesPerView:1,setWrapperSize:!0,direction:"vertical"}}},computed:{isMobile:function(){return this.$store.state.global.isMobile},isDarkTheme:function(){return this.$store.getters["global/isDarkTheme"]},language:function(){return this.$store.state.global.language}},methods:{parseByMarked:function(content){return Object(C.a)(content,null,!0)},prevSlide:function(){this.swiper.slidePrev()},nextSlide:function(){this.swiper.slideNext()},handleSwiperTransitionStart:function(){this.activeIndex=this.swiper.activeIndex||0}}}),O=(n(418),{name:"Index",fetch:function(t){var e=t.store;return Promise.all([e.dispatch("article/fetchList"),e.dispatch("announcement/fetchList")])},components:{Carrousel:y,Announcement:Object(_.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"announcement",class:{mobile:t.isMobile,dark:t.isDarkTheme}},[t.isMobile?t._e():n("div",{staticClass:"background"}),t._v(" "),n("div",{staticClass:"title"},[n("span",{staticClass:"icon-box",style:{transform:"rotate(-"+90*t.activeIndex+"deg)"}},[n("i",{staticClass:"iconfont icon-windmill"})])]),t._v(" "),n("transition",{attrs:{name:"module",mode:"out-in"}},[t.announcement.data.length?n("div",{key:"swiper",staticClass:"swiper-box"},[n("div",{directives:[{name:"swiper",rawName:"v-swiper:swiper",value:t.swiperOption,expression:"swiperOption",arg:"swiper"}],staticClass:"swiper",on:{"transition-start":t.handleSwiperTransitionStart}},[n("div",{staticClass:"swiper-wrapper"},t._l(t.announcement.data,(function(e,r){return n("div",{key:r,staticClass:"swiper-slide slide-item"},[n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.parseByMarked(e.content))}}),t._v(" "),t.isMobile?t._e():n("div",{staticClass:"date"},[t._v("~ "+t._s(t._f("timeAgo")(e.create_at,t.language)))])])})),0)]),t._v(" "),n("div",{staticClass:"navigation"},[n("div",{staticClass:"button prev",class:{disabled:0===t.activeIndex},on:{click:t.prevSlide}},[n("i",{staticClass:"iconfont icon-announcement-prev"})]),t._v(" "),n("div",{staticClass:"button next",class:{disabled:t.activeIndex===t.announcement.data.length-1},on:{click:t.nextSlide}},[n("i",{staticClass:"iconfont icon-announcement-next"})])])]):n("empty-box",{key:"empty",staticClass:"announcement-empty-box"},[t._t("default",[t._v(t._s(t.$i18n.text.announcement.empty))])],2)],1)],1)}),[],!1,null,"5c130d6a",null).exports,ArticleList:r.a},computed:{article:function(){return this.$store.state.article.list},announcement:function(){return this.$store.state.announcement},nextPageParams:function(){return{page:this.article.data.pagination.current_page+1}}},methods:{loadmoreArticle:function(){this.$store.dispatch("article/fetchList",this.nextPageParams)}}}),w=Object(_.a)(O,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index-page"},[e("carrousel",{attrs:{article:this.article}}),this._v(" "),e("announcement",{attrs:{announcement:this.announcement}}),this._v(" "),e("article-list",{attrs:{article:this.article},on:{loadmore:this.loadmoreArticle}})],1)}),[],!1,null,null,null);e.default=w.exports}}]);